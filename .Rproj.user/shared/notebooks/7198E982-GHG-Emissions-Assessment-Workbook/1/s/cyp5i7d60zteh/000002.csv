"0",""
"0","data_ghg <- rbind(data_gcb_co2_ffi,data_gcb_co2_luc)"
"0",""
"0","## use Chris's data which includes GFED"
"0",""
"0","# data_ch4_n2o_gfed <- read.csv(""sources/primap_ceds_gfed_inv_1750-2021.csv"")"
"0","# data_ch4_n2o_gfed <- gather(data_ch4_n2o_gfed,year,value,X1750:X2021)"
"0","# data_ch4_n2o_gfed$year <- gsub(""X"","""",data_ch4_n2o_gfed$year)"
"0","# data_ch4_n2o_gfed <- data_ch4_n2o_gfed %>% "
"0","#   filter(Variable %in% c(""Emissions|CH4"",""Emissions|N2O"")) %>% "
"0","#   mutate(units=ifelse(Variable==""Emissions|CH4"",""MtCH4"",""MtN2O"")) %>% "
"0","#   mutate(var=ifelse(Variable==""Emissions|CH4"",""ch4"",""n2o"")) %>% "
"0","#   mutate(source=""PRIMAP v2.4.2 & GFED"") %>% "
"0","#   select(year,value,units,source,var) "
"0","#   "
"0","# data_ghg <- rbind(data_ghg,data_ch4_n2o_gfed)"
"0","data_ghg <- rbind(data_ghg,data_fgases)"
"0","data_ghg <- rbind(data_ghg,data_primap_ch4)"
"0","data_ghg <- rbind(data_ghg,data_primap_n2o)"
"0",""
"0","data_ghg <- data_ghg %>% "
"0","  filter(source!=""H&N"") %>% "
"0","  filter(source!=""OSCAR"") %>% "
"0","  filter(source!=""BLUE"")"
"0",""
"0","## Convert CH4 and N2O to CO2e and fix units"
"0",""
"0","data_ghg <- data_ghg %>% "
"0","  mutate(gwp=ifelse(var==""ch4"",gwps$AR6GWP100[gwps$Species==""CH4""],1)) %>% "
"0","  mutate(gwp=ifelse(var==""n2o"",gwps$AR6GWP100[gwps$Species==""N2O""],gwp)) %>% "
"0","  mutate(value=value*gwp) %>% "
"0","  mutate(value=ifelse(var %in% c(""ch4"",""n2o""),value/1000,value))"
"0",""
"0","## remove ODS fgases"
"0","data_ghg <- data_ghg %>% "
"0","  mutate(exclude=grepl(""ODS"",source)) %>% "
"0","  filter(exclude==""FALSE"") %>% "
"0","  mutate(units=""GtCO2e"") %>% "
"0","  select(-gwp,-exclude)"
"0",""
"0",""
