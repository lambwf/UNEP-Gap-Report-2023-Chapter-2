"0",""
"0","## Global Carbon Project CO2 FFI (https://www.icos-cp.eu/science-and-impact/global-carbon-budget/2022)"
"0",""
"0","data_gcb_co2_ffi <- read.xlsx(""sources/GCB/Global_Carbon_Budget_2022v1.0.xlsx"",sheet=2,startRow = 21)"
"0","data_gcb_co2_ffi <- data_gcb_co2_ffi %>% "
"0","  select(year=Year,value=fossil.emissions.excluding.carbonation)"
"0","data_gcb_co2_ffi <- data_gcb_co2_ffi %>% "
"0","  mutate(source=""GCB v2022*"") %>% "
"0","  mutate(value=value*(44/12)) %>% "
"0","  mutate(var=""co2_ffi"") %>% "
"0","  mutate(units=""GtCO2"")"
"0",""
"0",""
"0","## Global Carbon Project CO2 LUC (https://www.icos-cp.eu/science-and-impact/global-carbon-budget/2022)"
"0",""
"0","data_gcb_co2_luc <- read.xlsx(""sources/GCB/Global_Carbon_Budget_2022v1.0.xlsx"",sheet=5,startRow = 30,cols = c(1,2,6,9,12))"
"0",""
"0","names(data_gcb_co2_luc) <- c(""year"",""GCB v2022*"",""H&N"",""BLUE"",""OSCAR"")"
"0","data_gcb_co2_luc <- gather(data_gcb_co2_luc,source,value,-year)"
"0","data_gcb_co2_luc <- data_gcb_co2_luc %>% "
"0","  mutate(value=value*(44/12)) %>% "
"0","  mutate(var=""co2_luc"") %>% "
"0","  mutate(units=""GtCO2"")"
"0",""
"0","# data_gcb_co2_luc_dgvm <- read.xlsx(""sources/GCB/Global_Carbon_Budget_2022v1.0.xlsx"",sheet=5,startRow = 29,cols = c(1,33,34))"
"0","# names(data_gcb_co2_luc_dgvm) <- c(""year"",""dgvm_mean"",""dgvm_spread"")"
"0","# data_gcb_co2_luc_dgvm <- data_gcb_co2_luc_dgvm %>% "
"0","#   mutate(dgvm_high=dgvm_mean+dgvm_spread) %>% "
"0","#   mutate(dgvm_low=dgvm_mean-dgvm_spread) %>% "
"0","#   select(year,dgvm_high,dgvm_low,dgvm_mean)"
"0","# data_gcb_co2_luc_dgvm <- gather(data_gcb_co2_luc_dgvm,source,value,-year)"
"0","# data_gcb_co2_luc_dgvm <- data_gcb_co2_luc_dgvm %>% "
"0","#   mutate(value=value*(44/12)) %>% "
"0","#   mutate(var=""co2_luc"") %>% "
"0","#   mutate(units=""GtCO2"") %>% "
"0","#   mutate(source=ifelse(source==""dgvm_mean"",""DGVM mean"",source))"
"0",""
"0",""
"0","# EDGAR CO2 (https://edgar.jrc.ec.europa.eu/dataset_ghg70)"
"0",""
"0","data_edgar_co2_ffi <- read.xlsx(""sources/EDGAR/IEA_EDGAR_CO2_1970-2021.xlsx"",sheet=1,startRow = 11)"
"0","data_edgar_co2_ffi <- gather(data_edgar_co2_ffi,year,value,Y_1970:Y_2021)"
"0","data_edgar_co2_ffi$year <- gsub(""Y_"","""",data_edgar_co2_ffi$year)"
"0","data_edgar_co2_ffi <- data_edgar_co2_ffi %>% "
"0","  select(iso=Country_code_A3,country=Name,code=ipcc_code_2006_for_standard_report,gas=Substance,fossil_bio,year,value)"
"0",""
"0","data_edgar_co2_ffi <- data_edgar_co2_ffi %>% "
"0","  filter(fossil_bio==""fossil"") %>% "
"0","  group_by(year) %>% "
"0","  summarise(value=sum(value,na.rm=TRUE)/1e6) %>% "
"0","  mutate(units=""GtCO2"") %>% "
"0","  mutate(source=""EDGAR v7.0"") %>% "
"0","  mutate(var=""co2_ffi"")"
"0",""
"0",""
"0","# EDGAR CH4 (https://edgar.jrc.ec.europa.eu/dataset_ghg70)"
"0",""
"0","data_edgar_ch4 <- read.xlsx(""sources/EDGAR/EDGAR_CH4_1970-2021.xlsx"",sheet=1,startRow = 11)"
"0","data_edgar_ch4 <- gather(data_edgar_ch4,year,value,Y_1970:Y_2021)"
"0","data_edgar_ch4$year <- gsub(""Y_"","""",data_edgar_ch4$year)"
"0","data_edgar_ch4 <- data_edgar_ch4 %>% "
"0","  select(iso=Country_code_A3,country=Name,code=ipcc_code_2006_for_standard_report,gas=Substance,fossil_bio,year,value)"
"0",""
"0","data_edgar_ch4 <- data_edgar_ch4 %>% "
"0","  group_by(year) %>% "
"0","  summarise(value=sum(value,na.rm=TRUE)/1000) %>% "
"0","  mutate(units=""MtCH4"") %>% "
"0","  mutate(source=""EDGAR v7.0"") %>% "
"0","  mutate(var=""ch4"")"
"0",""
"0",""
"0","# EDGAR N2O (https://edgar.jrc.ec.europa.eu/dataset_ghg70)"
"0",""
"0","data_edgar_n2o <- read.xlsx(""sources/EDGAR/EDGAR_N2O_1970-2021.xlsx"",sheet=1,startRow = 11)"
"0","data_edgar_n2o <- gather(data_edgar_n2o,year,value,Y_1970:Y_2021)"
"0","data_edgar_n2o$year <- gsub(""Y_"","""",data_edgar_n2o$year)"
"0","data_edgar_n2o <- data_edgar_n2o %>% "
"0","  select(iso=Country_code_A3,country=Name,code=ipcc_code_2006_for_standard_report,gas=Substance,fossil_bio,year,value)"
"0",""
"0","data_edgar_n2o <- data_edgar_n2o %>% "
"0","  group_by(year) %>% "
"0","  summarise(value=sum(value,na.rm=TRUE)/1000) %>% "
"0","  mutate(units=""MtN2O"") %>% "
"0","  mutate(source=""EDGAR v7.0"") %>% "
"0","  mutate(var=""n2o"")"
"0",""
"0",""
"0","# CEDS CH4 (https://zenodo.org/record/4741285)"
"0",""
"0","data_ceds_ch4 <- read.csv(""sources/CEDS/CH4_CEDS_emissions_by_country_2021_04_21.csv"")"
"0","data_ceds_ch4 <- gather(data_ceds_ch4,year,value,X1970:X2019)"
"0","data_ceds_ch4$year <- gsub(""X"","""",data_ceds_ch4$year)"
"0","data_ceds_ch4 <- data_ceds_ch4 %>% "
"0","  select(iso=country,gas=em,year,value)"
"0",""
"0","data_ceds_ch4 <- data_ceds_ch4 %>% "
"0","  group_by(year) %>% "
"0","  summarise(value=sum(value,na.rm=TRUE)/1000) %>% "
"0","  mutate(units=""MtCH4"") %>% "
"0","  mutate(source=""CEDS v2021.4.21"") %>% "
"0","  mutate(var=""ch4"")"
"0",""
"0",""
"0","# CEDS CO2 (https://zenodo.org/record/4741285)"
"0",""
"0","data_ceds_co2_ffi <- read.csv(""sources/CEDS/CO2_CEDS_emissions_by_country_2021_04_21.csv"")"
"0","data_ceds_co2_ffi <- gather(data_ceds_co2_ffi,year,value,X1750:X2019)"
"0","data_ceds_co2_ffi$year <- gsub(""X"","""",data_ceds_co2_ffi$year)"
"0","data_ceds_co2_ffi <- data_ceds_co2_ffi %>% "
"0","  select(iso=country,gas=em,year,value)"
"0",""
"0","data_ceds_co2_ffi <- data_ceds_co2_ffi %>% "
"0","  group_by(year) %>% "
"0","  summarise(value=sum(value,na.rm=TRUE)/1e6) %>% "
"0","  mutate(units=""GtCO2"") %>% "
"0","  mutate(source=""CEDS v2021.4.21"") %>% "
"0","  mutate(var=""co2_ffi"")"
"0",""
"0",""
"0","# CEDS N2O (https://zenodo.org/record/4741285)"
"0",""
"0","data_ceds_n2o <- read.csv(""sources/CEDS/N2O_CEDS_emissions_by_country_2021_04_21.csv"")"
"0","data_ceds_n2o <- gather(data_ceds_n2o,year,value,X1970:X2019)"
"0","data_ceds_n2o$year <- gsub(""X"","""",data_ceds_n2o$year)"
"0","data_ceds_n2o <- data_ceds_n2o %>% "
"0","  select(iso=country,gas=em,year,value)"
"0",""
"0","data_ceds_n2o <- data_ceds_n2o %>% "
"0","  group_by(year) %>% "
"0","  summarise(value=sum(value,na.rm=TRUE)/1000) %>% "
"0","  mutate(units=""MtN2O"") %>% "
"0","  mutate(source=""CEDS v2021.4.21"") %>% "
"0","  mutate(var=""n2o"")"
"0",""
"0",""
"0","# PRIMAP"
"0",""
"0","data_primap <- read.csv(""sources/PRIMAP/Guetschow-et-al-2023a-PRIMAP-hist_v2.4.2_final_09-Mar-2023.csv"")"
"0","data_primap <- gather(data_primap,year,value,X1750:X2021)"
"0","data_primap$year <- gsub(""X"","""",data_primap$year)"
"0","names(data_primap) <- c(""source"",""scenario"",""area"",""gas"",""unit"",""category"",""year"",""value"") "
"0","data_primap <- data_primap %>% "
"0","  filter(scenario==""HISTCR"") %>% "
"0","  filter(category==""M.0.EL"") %>% "
"0","  filter(area==""EARTH"")"
"0",""
"0","data_primap_n2o <- data_primap %>% "
"0","  filter(gas==""N2O"") %>% "
"0","  group_by(year) %>% "
"0","  summarise(value=sum(value,na.rm = TRUE)/1000) %>% "
"0","  mutate(units=""MtN2O"") %>% "
"0","  mutate(source=""PRIMAP CR v2.4.2*"") %>% "
"0","  mutate(var=""n2o"")"
"0",""
"0","data_primap_ch4 <- data_primap %>% "
"0","  filter(gas==""CH4"") %>% "
"0","  group_by(year) %>% "
"0","  summarise(value=sum(value,na.rm = TRUE)/1000) %>% "
"0","  mutate(units=""MtCH4"") %>% "
"0","  mutate(source=""PRIMAP CR v2.4.2*"") %>% "
"0","  mutate(var=""ch4"")"
"0",""
"0","data_primap_co2_ffi <- data_primap %>% "
"0","  filter(gas==""CO2"") %>% "
"0","  group_by(year) %>% "
"0","  summarise(value=sum(value,na.rm = TRUE)/1e6) %>% "
"0","  mutate(units=""GtCO2"") %>% "
"0","  mutate(source=""PRIMAP CR v2.4.2"") %>% "
"0","  mutate(var=""co2_ffi"")"
"0",""
"0","# PRIMAP (TP)"
"0",""
"0","data_primap_tp <- read.csv(""sources/PRIMAP/Guetschow-et-al-2023a-PRIMAP-hist_v2.4.2_final_09-Mar-2023.csv"")"
"0","data_primap_tp <- gather(data_primap_tp,year,value,X1750:X2021)"
"0","data_primap_tp$year <- gsub(""X"","""",data_primap_tp$year)"
"0","names(data_primap_tp) <- c(""source"",""scenario"",""area"",""gas"",""unit"",""category"",""year"",""value"") "
"0","data_primap_tp <- data_primap_tp %>% "
"0","  filter(scenario==""HISTTP"") %>% "
"0","  filter(category==""M.0.EL"") %>% "
"0","  filter(area==""EARTH"")"
"0",""
"0","data_primap_tp_n2o <- data_primap_tp %>% "
"0","  filter(gas==""N2O"") %>% "
"0","  group_by(year) %>% "
"0","  summarise(value=sum(value,na.rm = TRUE)/1000) %>% "
"0","  mutate(units=""MtN2O"") %>% "
"0","  mutate(source=""PRIMAP TP v2.4.2"") %>% "
"0","  mutate(var=""n2o"")"
"0",""
"0","data_primap_tp_ch4 <- data_primap_tp %>% "
"0","  filter(gas==""CH4"") %>% "
"0","  group_by(year) %>% "
"0","  summarise(value=sum(value,na.rm = TRUE)/1000) %>% "
"0","  mutate(units=""MtCH4"") %>% "
"0","  mutate(source=""PRIMAP TP v2.4.2"") %>% "
"0","  mutate(var=""ch4"")"
"0",""
"0","data_primap_tp_co2_ffi <- data_primap_tp %>% "
"0","  filter(gas==""CO2"") %>% "
"0","  group_by(year) %>% "
"0","  summarise(value=sum(value,na.rm = TRUE)/1e6) %>% "
"0","  mutate(units=""GtCO2"") %>% "
"0","  mutate(source=""PRIMAP TP v2.4.2"") %>% "
"0","  mutate(var=""co2_ffi"")"
"0",""
"0",""
"0",""
"0","## F-gas emissions (from Chris Smith's compiled data)"
"0",""
"0","data_fgases <- read.csv(""sources/primap_ceds_gfed_inv_1750-2021.csv"")"
"0","list_fgases <- data_fgases$Variable[12:52]"
"0","data_fgases <- gather(data_fgases,year,value,X1750:X2021)"
"0","data_fgases$year <- gsub(""X"","""",data_fgases$year)"
"0","data_fgases <- data_fgases %>% "
"0","  mutate(gas=Variable) %>% "
"0","  select(var=Variable,gas,units=Unit,year,value) %>% "
"0","  filter(var %in% c(list_fgases))"
"0",""
"0","data_fgases$gas <- gsub(""Emissions"","""",data_fgases$gas)"
"0","data_fgases$gas <- gsub(""\\|"","""",data_fgases$gas)"
"0","data_fgases$gas <- gsub(""-"","""",data_fgases$gas)"
"0",""
"0","#join GWPs from openclimatedata"
"0",""
"0","gwps <- read.csv(""https://raw.githubusercontent.com/openclimatedata/globalwarmingpotentials/main/globalwarmingpotentials.csv"",skip = 9)"
"0",""
"0","data_fgases <- left_join(data_fgases,gwps %>% select(gas=Species,AR6GWP100))"
"1","[38;5;232mJoining with `by = join_by(gas)`[39m
"
"0","data_fgases <- data_fgases %>% "
"0","  mutate(value=value*AR6GWP100)"
"0",""
"0","list_fgases <- data.frame(var=list_fgases)"
"0","list_fgases <- list_fgases %>% "
"0","  mutate(group=ifelse(grepl(""CFC"",var),""ODS F-gases"",NA)) %>% "
"0","  mutate(group=ifelse(grepl(""HCFC"",var),""ODS F-gases"",group)) %>% "
"0","  mutate(group=ifelse(grepl(""HFC"",var),""UNFCCC F-gases"",group)) %>% "
"0","  mutate(group=ifelse(grepl(""Halon"",var),""ODS F-gases"",group)) %>% "
"0","  mutate(group=ifelse(grepl(""NF3"",var),""UNFCCC F-gases"",group)) %>% "
"0","  mutate(group=ifelse(grepl(""SF6"",var),""UNFCCC F-gases"",group)) %>% "
"0","  mutate(group=ifelse(is.na(group),""UNFCCC F-gases"",group))"
"0",""
"0","data_fgases <- left_join(data_fgases,list_fgases,by=""var"")"
"0",""
"0","data_fgases <- data_fgases %>% "
"0","  group_by(year,group) %>% "
"0","  summarise(value=sum(value,na.rm=TRUE)/1e6) %>% "
"0","  mutate(source=ifelse(group==""ODS F-gases"",paste0(group,""\n CIP v2023.04""),paste0(group,""\n CIP v2023.04*""))) %>% "
"0","  mutate(var=""fgases"") %>% "
"0","  mutate(units=""GtCO2e"") %>% "
"0","  select(-group)"
"1","[38;5;232m`summarise()` has grouped output by 'year'. You can override using the `.groups` argument.[39m
"
"0","## GFED data"
"0",""
"0","data_gfed_ch4 <- read.xlsx(""sources/GFED/GFED4.1s.xlsx"",sheet=""GFED_CH4"",rows = c(4,19))"
"0","data_gfed_ch4 <- gather(data_gfed_ch4,year,value,`1997`:`2022`)"
"0","data_gfed_ch4 <- data_gfed_ch4 %>% "
"0","  mutate(var=""ch4"") %>% "
"0","  select(year,var,value) %>% "
"0","  mutate(value=value*1E10) %>% #1e10 grams to grams"
"0","  mutate(value=value/1e6) %>% "
"0","  mutate(value=value/1e6)"
"0",""
"0",""
"0","data_gfed_n2o <- read.xlsx(""sources/GFED/GFED4.1s.xlsx"",sheet=""GFED_N2O"",rows = c(4,19))"
"0","data_gfed_n2o <- gather(data_gfed_n2o,year,value,`1997`:`2022`)"
"0","data_gfed_n2o <- data_gfed_n2o %>% "
"0","  mutate(var=""n2o"") %>% "
"0","  select(year,var,value) %>% "
"0","  mutate(value=value*1E9) %>% #1e9 grams to grams"
"0","  mutate(value=value/1e6) %>% "
"0","  mutate(value=value/1e6)"
"0",""
