"0",""
"0","data_ghg <- data_ghg %>% "
"0","  mutate(label=ifelse(var==""co2_ffi"",""CO2-FFI"",NA)) %>% "
"0","  mutate(label=ifelse(var==""co2_luc"",""CO2-LULUCF"",label)) %>% "
"0","  mutate(label=ifelse(var==""ch4"",""CH4"",label)) %>% "
"0","  mutate(label=ifelse(var==""n2o"",""N2O"",label)) %>% "
"0","  mutate(label=ifelse(is.na(label),""F-gases"",label)) %>% "
"0","  mutate(year=as.numeric(year))"
"0",""
"0","data_ghg$label <- as.factor(data_ghg$label)"
"0","data_ghg$label <- fct_relevel(data_ghg$label,""F-gases"",""N2O"",""CH4"",""CO2-LULUCF"",""CO2-FFI"")"
"0",""
"0","colors_greys = colorRampPalette(brewer.pal(8, ""Greys""))(8)[2:6]"
"0",""
"0","p_ghg_1 <- data_ghg %>% "
"0","  ggplot(.,aes(x=year,y=value,fill=label)) +"
"0","  geom_area(color=""#636363"") +"
"0","  coord_cartesian(clip = 'off') +"
"0","  theme_wl() +"
"0","  scale_x_continuous(limits=c(1970,2021),breaks=c(1970,1980,1990,2000,2010,2020),expand = c(0, 0)) +"
"0","  scale_y_continuous(limits=c(0,60),breaks=c(0,10,20,30,40,50,60),expand = c(0, 0)) +"
"0","  scale_fill_manual(values=colors_greys,drop=FALSE) + "
"0","  expand_limits(x = 0, y = 0) +"
"0","  theme(axis.title = element_blank(),"
"0","        panel.border = element_blank(),"
"0","        axis.line = element_line(),"
"0","        legend.position=""none"","
"0","        plot.background = element_blank(),"
"0","        plot.margin = unit(c(0,0,0,0),""cm""),"
"0","        plot.title = element_text(size=11),"
"0","        plot.title.position = ""plot"","
"0","        plot.subtitle = element_text(size=11,hjust=0.09)) +"
"0","  labs(title=bquote(bold(""(a) Global total greenhouse gas emissions"")),"
"0","       subtitle=bquote(""Gt"" ~CO[2]* ""e""))"
"0",""
"0","data_ghg_labels <- data_ghg %>% filter(year==2021) %>% select(year=year,label,value) %>% arrange(label)"
"0","data_ghg_labels <- locate_shares(data_ghg_labels,""label"",1)"
"0",""
"0",""
"0","p_ghg_2 <- data_ghg_labels %>%"
"0","  ggplot(.,aes(x=year,y=location,label=label)) +"
"0","  geom_text_repel("
"0","    nudge_x      = 4,"
"0","    direction    = ""y"","
"0","    hjust        = 0,"
"0","    segment.size = 0.2,"
"0","    size=3.25,"
"0","    color=""#636363"") +"
"0","  theme_wl() +"
"0","  scale_x_continuous(limits=c(2021,2045),breaks=c(2021,2045),expand = c(0, 0)) +"
"0","  scale_y_continuous(limits=c(0,60),breaks=c(0,10,20,30,40,50,60),expand = c(0, 0)) +"
"0","  expand_limits(x = 0, y = 0) +"
"0","  theme(axis.title = element_blank(),"
"0","        panel.border = element_blank(),"
"0","        legend.position=""none"","
"0","        axis.text.x = element_blank(),"
"0","        axis.text.y = element_blank(),"
"0","        axis.ticks = element_blank(),"
"0","        panel.grid.major = element_blank(),"
"0","        plot.background = element_blank(),"
"0","        plot.margin = unit(c(0,0,0,0),""cm""))"
"0",""
"0","p_ghg <- p_ghg_1 + p_ghg_2 + plot_layout(widths=c(4,1.9))"
"0","p_ghg"
"2","Warnung:"
"2"," [38;5;232mRemoved 682 rows containing non-finite values (`stat_align()`).[39m
"
